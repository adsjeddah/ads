# ๐ ููุฎุต ุชุญุฏูุซ ุงูุฃุณุนุงุฑ

> **ุงูุชุงุฑูุฎ:** 22 ููููุจุฑ 2025  
> **ุงูุญุงูุฉ:** โ ููุชูู ููุทุจู

---

## โ ูุง ุชู ุฅูุฌุงุฒู

### 1. ุชุญุฏูุซ ุงูุฃุณุนุงุฑ

```
โ ุฃุณุจูุน:    400 ุฑูุงู   (ุฌุฏูุฏ)
โ ุฃุณุจูุนูู:  750 ุฑูุงู   (ุฌุฏูุฏ)
โ ุดูุฑ:      1500 ุฑูุงู  (ูุญุฏุซ ูู 900)
โ ุดูุฑูู:    2800 ุฑูุงู  (ูุญุฏุซ ูู 1700)
โ 3 ุฃุดูุฑ:   4000 ุฑูุงู  (ูุญุฏุซ ูู 2400)
โ 6 ุฃุดูุฑ:   7500 ุฑูุงู  (ูุญุฏุซ ูู 4500)
โ ุณูุฉ:      14000 ุฑูุงู (ูุญุฏุซ ูู 8000)
```

---

## ๐ ุงููููุงุช ุงูููุญุฏูุซุฉ

### 1. `scripts/add-plans.js`

```javascript
// ุงูุฃุณุนุงุฑ ุงูุฌุฏูุฏุฉ 2025
const plans = [
  { name: 'ุจุงูุฉ ุฃุณุจูุนูุฉ', duration_days: 7, price: 400 },
  { name: 'ุจุงูุฉ ุฃุณุจูุนูู', duration_days: 15, price: 750 },
  { name: 'ุจุงูุฉ ุดูุฑูุฉ', duration_days: 30, price: 1500 },
  { name: 'ุจุงูุฉ ุดูุฑูู', duration_days: 60, price: 2800 },
  { name: 'ุจุงูุฉ 3 ุฃุดูุฑ', duration_days: 90, price: 4000 },
  { name: 'ุจุงูุฉ 6 ุฃุดูุฑ', duration_days: 180, price: 7500 },
  { name: 'ุจุงูุฉ ุณูููุฉ', duration_days: 365, price: 14000 }
];
```

**โ Status:** ุชู ุงูุชุญุฏูุซ ูุชุดุบูู ุงูุณูุฑูุจุช ุจูุฌุงุญ

---

## ๐ฅ Firebase - ุงูุญุงูุฉ ุงูุญุงููุฉ

```
Collection: plans
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ 7 ุจุงูุงุช ูุดุทุฉ
โ ุฌููุน ุงูุฃุณุนุงุฑ ูุญุฏุซุฉ
โ ุงูุชูุงุฑูุฎ ูุงููููุฒุงุช ูุญุฏุซุฉ
โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูููุฑู
```

### ุงูุจุงูุงุช ูู Firebase:

```javascript
plans/cNAPAWGoSre3XRMnL1N5
  name: "ุจุงูุฉ ุฃุณุจูุนูุฉ"
  price: 400
  duration_days: 7
  is_active: true
  โ Created: Nov 22, 2025

plans/ixowKTbTdMwPqXUXdeQl
  name: "ุจุงูุฉ ุฃุณุจูุนูู"
  price: 750
  duration_days: 15
  is_active: true
  โ Created: Nov 22, 2025

plans/xAXqTLInisLuglofuQkH
  name: "ุจุงูุฉ ุดูุฑูุฉ"
  price: 1500
  duration_days: 30
  is_active: true
  โ Created: Nov 22, 2025

plans/pmIk1onCmgCVCVwHTlux
  name: "ุจุงูุฉ ุดูุฑูู"
  price: 2800
  duration_days: 60
  is_active: true
  โ Created: Nov 22, 2025

plans/25ctjKqnlKVUbVKZn3X8
  name: "ุจุงูุฉ 3 ุฃุดูุฑ"
  price: 4000
  duration_days: 90
  is_active: true
  โ Created: Nov 22, 2025

plans/vNgwKoh0abjAcV1rYERK
  name: "ุจุงูุฉ 6 ุฃุดูุฑ"
  price: 7500
  duration_days: 180
  is_active: true
  โ Created: Nov 22, 2025

plans/wrwle7qvQbpUqm8QzToT
  name: "ุจุงูุฉ ุณูููุฉ"
  price: 14000
  duration_days: 365
  is_active: true
  โ Created: Nov 22, 2025
```

---

## ๐ ุงููุณุชูุฏุงุช ุงูุฌุฏูุฏุฉ

### 1. `PRICING_UPDATE_2025.md`

- โ ุงูุฃุณุนุงุฑ ุงูุฌุฏูุฏุฉ ุงููุงููุฉ
- โ ููุงุฑูุฉ ูุน ุงูุฃุณุนุงุฑ ุงููุฏููุฉ
- โ ุญุณุงุจ ุงูุฎุตููุงุช
- โ ุฃูุซูุฉ ุนูููุฉ
- โ ูุตุงุฆุญ ุชุณููููุฉ

### 2. `PRICING_SYSTEM_INTEGRATION.md`

- โ ุฏููู ุงูุชูุงูู ุงููุงูู
- โ ุดุฑุญ ุงูุงุฑุชุจุงุทุงุช ุจูู:
  - ุงููุนูููู โ ุงูุจุงูุงุช
  - ุงูุจุงูุงุช โ ุงูุงุดุชุฑุงูุงุช
  - ุงูุงุดุชุฑุงูุงุช โ ุงูููุงุชูุฑ
  - ุงูููุงุชูุฑ โ ุงููุฏููุนุงุช
- โ ุฃูุซูุฉ ุนูููุฉ ุดุงููุฉ (3 ุณููุงุฑูููุงุช)
- โ ุดุฑุญ VAT ูุงูุฎุตููุงุช
- โ ุชุญุฏูุซุงุช ุงูุญุงูุงุช ุงูุชููุงุฆูุฉ

### 3. `UPDATE_SUMMARY_AR.md`

- โ ูุฐุง ุงูููู - ููุฎุต ุณุฑูุน

---

## ๐ ุงูุชูุงูู ูุน ุงููุธุงู

### ููู ุชุนูู ุงูุฃุณุนุงุฑ ุงูุฌุฏูุฏุฉ ูุน ุงููุธุงูุ

```
1. ุงููุนูู ูุฎุชุงุฑ ุจุงูุฉ
   โ
2. ูุชู ุฌูุจ ุงูุณุนุฑ ูู Firebase
   price: 1500 (ูุซูุงู ููุจุงูุฉ ุงูุดูุฑูุฉ)
   โ
3. ูุชู ุญุณุงุจ VAT ุชููุงุฆูุงู
   subtotal: 1500
   VAT (15%): 225
   total: 1725
   โ
4. ูุชู ุฅูุดุงุก ุงูุงุดุชุฑุงู ูุงููุงุชูุฑุฉ
   โ
5. ุนูุฏ ุงูุฏูุนุ ูุชู ุชุญุฏูุซ ุงูุญุงูุงุช ุชููุงุฆูุงู
```

### Services ุงููุฑุชุจุทุฉ:

```javascript
โ lib/services/plan.service.ts
   โข ุฌูุจ ุงูุจุงูุงุช ุจุงูุฃุณุนุงุฑ ุงูุฌุฏูุฏุฉ

โ lib/services/financial.service.ts
   โข createSubscriptionWithInvoice()
     - ูุณุชุฎุฏู plan.price
     - ูุญุณุจ VAT ุชููุงุฆูุงู
     - ููุดุฆ ุงูุงุดุชุฑุงู ูุงููุงุชูุฑุฉ

โ lib/services/invoice-admin.service.ts
   โข ุญุณุงุจ VAT
   โข ุฅูุดุงุก ุงูููุงุชูุฑ ุจุงูุฃุณุนุงุฑ ุงูุตุญูุญุฉ

โ pages/api/financial/create-subscription.ts
   โข ูุจูู vat_percentage
   โข ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
```

---

## ๐ก ุฃูุซูุฉ ุงุณุชุฎุฏุงู

### ูุซุงู 1: ุฅูุดุงุก ุงุดุชุฑุงู ุฃุณุจูุนู

```bash
POST /api/financial/create-subscription
{
  "advertiser_id": "ADV-001",
  "plan_id": "cNAPAWGoSre3XRMnL1N5",  # ุจุงูุฉ ุฃุณุจูุนูุฉ
  "start_date": "2025-11-22",
  "vat_percentage": 15
}

# ุงููุชูุฌุฉ:
Subscription:
  base_price: 400
  total_amount: 460  # 400 + 60 (VAT)

Invoice:
  subtotal: 400
  vat_amount: 60
  amount: 460
```

### ูุซุงู 2: ุงุดุชุฑุงู ุดูุฑู ูุน ุฎุตู 10%

```bash
POST /api/financial/create-subscription
{
  "advertiser_id": "ADV-002",
  "plan_id": "xAXqTLInisLuglofuQkH",  # ุจุงูุฉ ุดูุฑูุฉ
  "start_date": "2025-11-22",
  "discount_type": "percentage",
  "discount_amount": 10,
  "vat_percentage": 15
}

# ุงูุญุณุงุจุงุช:
base: 1500
discount (10%): -150
โโโโโโโโโโโโโโโโ
subtotal: 1350
VAT (15%): +202.5
โโโโโโโโโโโโโโโโ
total: 1552.5 ุฑูุงู
```

### ูุซุงู 3: ุงุดุชุฑุงู ุณููู

```bash
POST /api/financial/create-subscription
{
  "advertiser_id": "ADV-003",
  "plan_id": "wrwle7qvQbpUqm8QzToT",  # ุจุงูุฉ ุณูููุฉ
  "start_date": "2025-11-22",
  "vat_percentage": 15
}

# ุงููุชูุฌุฉ:
Subscription:
  base_price: 14000
  total_amount: 16100  # 14000 + 2100 (VAT)
  start_date: 2025-11-22
  end_date: 2026-11-22  # ุณูุฉ ูุงููุฉ!

# ุงูุชูููุฑ:
ุจุฏูู ุฎุตู ุงูุณูุฉ: (1500 ร 12) = 18,000 ุฑูุงู
ุงูุณุนุฑ ุงูุณููู: 14,000 ุฑูุงู
โโโโโโโโโโโโโโโโโโโโโโโโ
ุงูุชูููุฑ: 4,000 ุฑูุงู (22%)
```

---

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุนุฑุถ ุงูุจุงูุงุช

```typescript
// ูุชู ุฌูุจ ุงูุจุงูุงุช ูู:
GET /api/plans

// ุงููุชูุฌุฉ:
[
  {
    id: "cNAPAWGoSre3XRMnL1N5",
    name: "ุจุงูุฉ ุฃุณุจูุนูุฉ",
    price: 400,
    duration_days: 7,
    features: [...]
  },
  // ...
]

// ูู ุงูู UI:
โโโโโโโโโโโโโโโโโโโโโโ
โ  ุจุงูุฉ ุฃุณุจูุนูุฉ      โ
โ                    โ
โ  400 ุฑูุงู/ุฃุณุจูุน    โ
โ  460 ุฑูุงู (ูุน VAT) โ
โ                    โ
โ  [ุงุดุชุฑู ุงูุขู]      โ
โโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ูุจู ุงูุชุญุฏูุซ:

```
ุนุฏุฏ ุงูุจุงูุงุช: 6
ุฅุฌูุงูู ุงููููุฉ: 18,000 ุฑูุงู
ุฃูู ุณุนุฑ: 500 ุฑูุงู (15 ููู)
ุฃุนูู ุณุนุฑ: 8,000 ุฑูุงู (ุณูุฉ)
```

### ุจุนุฏ ุงูุชุญุฏูุซ:

```
ุนุฏุฏ ุงูุจุงูุงุช: 7 โ
ุฅุฌูุงูู ุงููููุฉ: 30,950 ุฑูุงู โ
ุฃูู ุณุนุฑ: 400 ุฑูุงู (ุฃุณุจูุน) โ
ุฃุนูู ุณุนุฑ: 14,000 ุฑูุงู (ุณูุฉ) โ

ุงูุฒูุงุฏุฉ: +72% ูู ุฅุฌูุงูู ุงููููุฉ
ุจุงูุงุช ุฌุฏูุฏุฉ: 2 (ุฃุณุจูุนุ ุฃุณุจูุนูู)
```

---

## โ ุงูุชุญูู ูู ุงูุชุญุฏูุซ

### 1. ุชุญูู ูู Firebase

```bash
# ุงูุชุญ Firebase Console
https://console.firebase.google.com/

# ุงูุชูู ุฅูู:
Firestore Database โ plans

# ุชุฃูุฏ ูู:
โ 7 ูุซุงุฆู ููุฌูุฏุฉ
โ ุงูุฃุณุนุงุฑ ุตุญูุญุฉ (400, 750, 1500, ...)
โ ุฌููุน ุงูุจุงูุงุช is_active: true
```

### 2. ุชุญูู ูู ุงูููุฏ

```bash
# ุงูุชุญ:
scripts/add-plans.js

# ุชุฃูุฏ ูู:
โ ุงูุณุทุฑ 33: const plans = [
โ ุงูุณุทุฑ 41: price: 400 (ุฃุณุจูุนูุฉ)
โ ุงูุณุทุฑ 68: price: 1500 (ุดูุฑูุฉ)
โ ุงูุณุทุฑ 149: price: 14000 (ุณูููุฉ)
```

### 3. ุชุญูู ูู ุงูู API

```bash
# ุดุบู ุงููุดุฑูุน
npm run dev

# ุงุฎุชุจุฑ:
curl http://localhost:3000/api/plans

# ูุฌุจ ุฃู ุชุฑู:
[
  { "name": "ุจุงูุฉ ุฃุณุจูุนูุฉ", "price": 400, ... },
  { "name": "ุจุงูุฉ ุฃุณุจูุนูู", "price": 750, ... },
  { "name": "ุจุงูุฉ ุดูุฑูุฉ", "price": 1500, ... },
  ...
]
```

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ููุงุณุชุฎุฏุงู ุงูููุฑู

1. **ุดุบู ุงููุดุฑูุน:**

```bash
npm run dev
```

2. **ุงูุชุญ Dashboard:**

```
http://localhost:3000/admin/dashboard
```

3. **ุฃูุดุฆ ุงุดุชุฑุงู ุชุฌุฑูุจู:**
   - ุงุฎุชุฑ ูุนูู
   - ุงุฎุชุฑ ุจุงูุฉ (ูุน ุงูุฃุณุนุงุฑ ุงูุฌุฏูุฏุฉ)
   - ุดุงูุฏ ุงููุงุชูุฑุฉ ุชููุดุฃ ุชููุงุฆูุงู ูุน VAT
   - ุณุฌู ุฏูุนุฉ
   - ุดุงูุฏ ุงูุชุญุฏูุซุงุช ุงูุชููุงุฆูุฉ

### ููุชุฎุตูุต

ุฅุฐุง ุฃุฑุฏุช ุชุบููุฑ ุงูุฃุณุนุงุฑ ูุณุชูุจูุงู:

1. ุนุฏูู `scripts/add-plans.js`
2. ุดุบู: `node scripts/add-plans.js`
3. ุงุฎุชุฑ "y" ูุญุฐู ุงููุฏูู ูุฅุถุงูุฉ ุงูุฌุฏูุฏ

---

## ๐ ุงูุฏุนู

### ุงููุณุชูุฏุงุช ุงููููุฏุฉ:

```
๐ PRICING_UPDATE_2025.md
   โข ุชูุงุตูู ุงูุฃุณุนุงุฑ ุงููุงููุฉ

๐ PRICING_SYSTEM_INTEGRATION.md
   โข ุฏููู ุงูุชูุงูู ุงูุดุงูู

๐ START_HERE_INVOICES.md
   โข ููุทุฉ ุงูุจุฏุงูุฉ ุงูุฑุฆูุณูุฉ

๐ COMPLETE_SYSTEM_INDEX.md
   โข ููุฑุณ ุดุงูู ููู ุงููุณุชูุฏุงุช
```

### ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ:

**ุณ: ูู ูููู ุชุทุจูู ุฎุตู ุนูู ุฃู ุจุงูุฉุ**  
ุฌ: ูุนู! ูููู ุชุทุจูู ุฎุตู ุจุงููุจูุบ ุฃู ุจุงููุณุจุฉ ุนูุฏ ุฅูุดุงุก ุงูุงุดุชุฑุงู.

**ุณ: ููู ูุชู ุญุณุงุจ VATุ**  
ุฌ: ุชููุงุฆูุงู! VAT = 15% ูู ุงูุณุนุฑ ุจุนุฏ ุงูุฎุตู.

**ุณ: ูู ูููู ุชุบููุฑ ูุณุจุฉ VATุ**  
ุฌ: ูุนูุ ูููู ุชูุฑูุฑ `vat_percentage` ุนูุฏ ุฅูุดุงุก ุงูุงุดุชุฑุงู.

**ุณ: ูุงุฐุง ูุญุฏุซ ููุงุดุชุฑุงูุงุช ุงููุฏููุฉุ**  
ุฌ: ุชุจูู ููุง ูู. ุงูุฃุณุนุงุฑ ุงูุฌุฏูุฏุฉ ุชูุทุจู ุนูู ุงูุงุดุชุฑุงูุงุช ุงูุฌุฏูุฏุฉ ููุท.

---

## ๐ ุงูุฎูุงุตุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ     ุชุญุฏูุซ ุงูุฃุณุนุงุฑ ููุชูู 100%        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ ุงูุฃุณุนุงุฑ: ูุญุฏุซุฉ ูู Firebase
โ ุงูุฃููุงุฏ: ูุญุฏุซุฉ ููุฎุชุจุฑุฉ
โ ุงูุชูุงูู: ุณููู 100%
โ ุงููุณุชูุฏุงุช: ุดุงููุฉ ููุงุถุญุฉ
โ ุงูุฃูุซูุฉ: ุนูููุฉ ูุฌุงูุฒุฉ
โ ุงูู API: ูุนูู ุจุดูู ุตุญูุญ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ฐ ุงูุฃุณุนุงุฑ ุงูุฌุฏูุฏุฉ:
   โข ุฃุณุจูุน: 400 ุฑูุงู
   โข ุดูุฑ: 1,500 ุฑูุงู
   โข ุณูุฉ: 14,000 ุฑูุงู

๐ ุงูุชูุงูู:
   โข ุงููุนูููู โ ุงูุจุงูุงุช โ
   โข ุงูุงุดุชุฑุงูุงุช โ ุงูููุงุชูุฑ โ
   โข ุงูููุงุชูุฑ โ ุงููุฏููุนุงุช โ
   โข VAT โ ูู ุดูุก โ

๐ ุงูุญุงูุฉ:
   โข ุฌุงูุฒ ููุฅูุชุงุฌ
   โข ูุฎุชุจุฑ ุจุงููุงูู
   โข ููุซู ุจุงูุชูุตูู

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ ุงุจุฏุฃ ุงูุขู!
```

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 22 ููููุจุฑ 2025  
**ุงูุญุงูุฉ:** โ ููุชูู ููุทุจู  
**ุงูุชุญูู:** โ ูุฌุญ 100%

๐ฏ **ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูููุฑู!**

