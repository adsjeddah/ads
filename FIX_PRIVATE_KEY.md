# ๐ ุฅุตูุงุญ Private Key - ุญู ูุดููุฉ ุนุฏู ุธููุฑ ุงูุจูุฑุงุช

## ๐ฏ ุงููุดููุฉ

```
โ FirebaseAppError: Failed to parse private key
โ ุงูุจูุฑุงุช ูุง ุชุธูุฑ ุนูู ุงููููุน
```

## โ ุงูุณุจุจ

**FIREBASE_PRIVATE_KEY** ูู ููู `.env.local` ุบูุฑ ุตุญูุญ

## ๐ ุงูุญู (ุฎุทูุฉ ุจุฎุทูุฉ)

### ุงูุทุฑููุฉ 1๏ธโฃ: ุงุณุชุฎุฏุงู ุงูุณูุฑูุจุช ุงูุชููุงุฆู (ุงูุฃุณูู) โญ

#### ุงูุฎุทูุฉ 1: ุงุญุตู ุนูู Service Account ูู Firebase

1. **ุงูุชุญ ูุฐุง ุงูุฑุงุจุท:**
   ```
   https://console.firebase.google.com/project/jeddah-ads-46daa/settings/serviceaccounts/adminsdk
   ```

2. **ุงุถุบุท ุนูู ุงูุฒุฑ:** `Generate New Private Key`

3. **ุฃููุฏ ุงูุชุญููู** - ุณูุชู ุชุญููู ููู JSON
   - ุงุณูู ูุซู: `jeddah-ads-46daa-firebase-adminsdk-xxxxx.json`
   - ุนุงุฏุฉ ููุญููู ูู ูุฌูุฏ Downloads

#### ุงูุฎุทูุฉ 2: ุดุบูู ุงูุณูุฑูุจุช

ุงูุชุญ Terminal ูุงูุชุจ:

```bash
cd ~/Desktop/all\ my\ projects/ads-main

node scripts/import-service-account.js ~/Downloads/jeddah-ads-46daa-xxxxx.json
```

**ููุงุญุธุฉ:** ุบููุฑ `xxxxx` ุจุงุณู ุงูููู ุงููุนูู ุงููุญููู

#### ุงูุฎุทูุฉ 3: ุฃุนุฏ ุชุดุบูู ุงูุณูุฑูุฑ

```bash
# ุฃููู ุงูุณูุฑูุฑ ุงูุญุงูู (Ctrl+C)
# ุซู ุดุบููู ูุฑุฉ ุฃุฎุฑู:
npm run dev
```

#### ุงูุฎุทูุฉ 4: ุงูุชุญ ุงููููุน

```
http://localhost:3000
```

**โ ุณุชุธูุฑ ุงูุจูุฑุงุช ุงูุขู!**

---

### ุงูุทุฑููุฉ 2๏ธโฃ: ุงูุชุญุฏูุซ ุงููุฏูู

ุฅุฐุง ูุถููุช ุงูุชุญุฏูุซ ูุฏููุงู:

#### 1. ุงูุชุญ ููู JSON ุงููุญููู

ุงูุชุญ ุงูููู ุจุงุณุชุฎุฏุงู ูุญุฑุฑ ูุตูุต (VS Code, TextEdit, etc)

#### 2. ุงูุณุฎ ุงูููู

ุงุจุญุซ ุนู ูุฐู ุงูููู ูู ููู JSON:

```json
{
  "project_id": "jeddah-ads-46daa",
  "client_email": "firebase-adminsdk-xxxxx@jeddah-ads-46daa.iam.gserviceaccount.com",
  "private_key": "-----BEGIN PRIVATE KEY-----\nMIIEvQI... (ูุต ุทููู ุฌุฏุงู) ...\n-----END PRIVATE KEY-----\n"
}
```

#### 3. ุงูุชุญ .env.local

```bash
open .env.local
# ุฃู
code .env.local
```

#### 4. ุงุณุชุจุฏู ุงูููู

ุงุณุชุจุฏู ุงูุณุทูุฑ ุงูุชุงููุฉ:

```env
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@jeddah-ads-46daa.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...ุงููุต ุงูุทููู ุงููุงูู...\n-----END PRIVATE KEY-----\n"
```

**โ๏ธ ููู ุฌุฏุงู:**
- ุงุญุชูุธ ุจุนูุงูุงุช ุงูุงูุชุจุงุณ `"..."`
- ุงุญุชูุธ ุจูู `\n` ูู ุงููุต
- ุงูุณุฎ ุงูููุชุงุญ ูุงููุงู (ุญูุงูู 1600 ุญุฑู)

#### 5. ุงุญูุธ ุงูููู ูุฃุนุฏ ุงูุชุดุบูู

```bash
# Ctrl+C ูุฅููุงู ุงูุณูุฑูุฑ
npm run dev
```

---

## ๐ฏ ูุง ุงูุฐู ุณูุญุฏุซ ุจุนุฏ ุงูุฅุตูุงุญุ

### โ ุณูุนูู:
- ูุฑุงุกุฉ ุงููุนูููู ูู Firestore
- ุนุฑุถ ุงูุจูุฑุงุช ุจุชุฑุชูุจ ุนุดูุงุฆู
- ุชุชุจุน ุงูููุงููุงุช ุนูุฏ ุงูุถุบุท ุนูู "ุงุชุตู ุงูุขู"
- ููุญุฉ ุชุญูู ุงูุฅุญุตุงุฆูุงุช

### ๐ ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ูู Firestore:
- โ advertisers (ุงููุนูููู)
- โ ad_requests (ุทูุจุงุช ุงูุฅุนูุงู)
- โ admins (ุงููุณุคูููู)
- โ subscriptions (ุงูุงุดุชุฑุงูุงุช)

**ูุง ุชุญุชุงุฌ ุฃู ุจูุงูุงุช ุฅุถุงููุฉ!** 

ููุท Private Key ุงูุตุญูุญ ูููุตูู ุฅูููุง.

---

## ๐ ููู ุชุชุฃูุฏ ูู ูุฌุงุญ ุงูุฅุตูุงุญุ

### 1. ูู ุชุฑู ูุฐุง ุงูุฎุทุฃ:
```
โ FirebaseAppError: Failed to parse private key
```

### 2. ุณุชุฑู ูู Terminal:
```
โ Compiled /api/advertisers in XXXms
โ Ready in XXXs
```
ุจุฏูู ุฃุฎุทุงุก!

### 3. ุนูู ุงููููุน:
- โ ุณุชุธูุฑ ูุฑูุช ุงููุนูููู
- โ ุณุชุนูู ุฃุฒุฑุงุฑ "ุงุชุตู ุงูุขู"
- โ ุณูุนูู ุงูุชุจุฏูู ุงูุนุดูุงุฆู

---

## ๐ ูุดุงูู ุดุงุฆุนุฉ

### ูุดููุฉ: "command not found: node"
**ุงูุญู:**
```bash
# ุชุฃูุฏ ูู ุชุซุจูุช Node.js
node --version
```

### ูุดููุฉ: "Cannot find module"
**ุงูุญู:**
```bash
# ุชุฃูุฏ ูู ุฃูู ูู ูุฌูุฏ ุงููุดุฑูุน
cd ~/Desktop/all\ my\ projects/ads-main
```

### ูุดููุฉ: "File not found"
**ุงูุญู:**
```bash
# ุชุฃูุฏ ูู ูุณุงุฑ ููู JSON
ls ~/Downloads/jeddah-ads-*.json
# ุงุณุชุฎุฏู ุงููุณุงุฑ ุงููุงูู ุงูุตุญูุญ
```

---

## ๐ ุชุญูู ูู ุงููุชูุฌุฉ

ุจุนุฏ ุชุทุจูู ุงูุญู:

1. ุงูุชุญ `http://localhost:3000`
2. ูุฌุจ ุฃู ุชุฑู ุงููุนูููู ูุนุฑูุถูู
3. ุฌุฑุจ ุงูุถุบุท ุนูู "ุงุชุตู ุงูุขู"
4. ุงูุชุญ ููุญุฉ ุงูุชุญูู: `http://localhost:3000/admin/login`
5. ุชุญูู ูู ุงูุฅุญุตุงุฆูุงุช ูู ุตูุญุฉ ุงููุนูู

---

## โจ ุงูุฎูุงุตุฉ

```
ุงูุณุจุจ   = Private Key ุบูุฑ ุตุญูุญ
ุงูุญู    = ุงุณุชูุฑุงุฏ ุงูููุชุงุญ ุงูุตุญูุญ ูู Firebase
ุงููุชูุฌุฉ = ุงูุจูุฑุงุช ุณุชุธูุฑ ุจุดูู ุทุจูุนู โ
```

**ูุง ุชุญุชุงุฌ ุฃู ุจูุงูุงุช ุฅุถุงููุฉ ูู Firestore!**

---

**ุชุงุฑูุฎ:** 2025-11-16  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุชุทุจูู

