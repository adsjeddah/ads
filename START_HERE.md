# ๐ ุงุจุฏุฃ ููุง - Jeddah Ads System

> **ุขุฎุฑ ุชุญุฏูุซ:** 22 ููููุจุฑ 2025  
> **ุงูุญุงูุฉ:** โ **ุฌุงูุฒ ููุงุณุชุฎุฏุงู**

---

## ๐ ูุฑุญุจุงู!

ูุฐุง ูู **ูุธุงู ุฌุฏุฉ ููุฅุนูุงูุงุช** - ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงูุฅุนูุงูุงุช ูุงูุงุดุชุฑุงูุงุช ูุงูููุงุชูุฑ.

---

## โก ุงูุจุฏุก ุงูุณุฑูุน (5 ุฏูุงุฆู)

### 1๏ธโฃ ุชุซุจูุช ุงููุชุทูุจุงุช

```bash
npm install
```

### 2๏ธโฃ ุฅุถุงูุฉ ุงูุจุงูุงุช ุงูุฅุนูุงููุฉ

```bash
node scripts/add-plans.js
```

### 3๏ธโฃ ุชุดุบูู ุงููุดุฑูุน

```bash
npm run dev
```

### 4๏ธโฃ ูุชุญ ููุญุฉ ุงูุชุญูู

```
http://localhost:3000/admin/dashboard
```

---

## ๐ ุงููุซุงุฆู ุงูุฑุฆูุณูุฉ

### ูููุทูุฑูู ๐จโ๐ป

| ุงูููู | ุงููุตู | ุงูุฃูููุฉ |
|------|-------|---------|
| **[IMPLEMENTATION_COMPLETE.md](./IMPLEMENTATION_COMPLETE.md)** | ุชูุฑูุฑ ูุงูู ููุง ุชู ุชุทุจููู | โญโญโญโญโญ |
| **[TESTING_GUIDE.md](./TESTING_GUIDE.md)** | ุฏููู ุงุฎุชุจุงุฑ ุดุงูู | โญโญโญโญโญ |
| **[INVOICE_SYSTEM_COMPREHENSIVE_REVIEW.md](./INVOICE_SYSTEM_COMPREHENSIVE_REVIEW.md)** | ุชุญููู ุชููู ููุตู (60+ ุตูุญุฉ) | โญโญโญโญ |
| **[FIREBASE_STRUCTURE_COMPLETE.md](./FIREBASE_STRUCTURE_COMPLETE.md)** | ุจููุฉ Firebase ุงููุงููุฉ | โญโญโญโญ |

### ููุฅุฏุงุฑุฉ ๐

| ุงูููู | ุงููุตู |
|------|-------|
| **[INVOICE_SYSTEM_EXECUTIVE_SUMMARY.md](./INVOICE_SYSTEM_EXECUTIVE_SUMMARY.md)** | ููุฎุต ุชูููุฐู ููุฅุฏุงุฑุฉ |
| **[FINANCIAL_SYSTEM_GUIDE.md](./FINANCIAL_SYSTEM_GUIDE.md)** | ุฏููู ุงููุธุงู ุงููุงูู |

### ูููุฑุฌุน ๐

| ุงูููู | ุงููุตู |
|------|-------|
| **[COMPLETE_SYSTEM_INDEX.md](./COMPLETE_SYSTEM_INDEX.md)** | ููุฑุณ ุดุงูู ููู ุงููุซุงุฆู |
| **[INVOICE_QUICK_IMPLEMENTATION_GUIDE.md](./INVOICE_QUICK_IMPLEMENTATION_GUIDE.md)** | ุฃููุงุฏ ุฌุงูุฒุฉ ููุชุทุจูู |

---

## ๐ฏ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### โ ุชู ุงูุชุทุจูู

- โ **6 ุจุงูุงุช ุฅุนูุงููุฉ** (15 ููู - ุณูุฉ)
- โ **ูุธุงู VAT ูุชูุงูู** (15% ุถุฑูุจุฉ)
- โ **Audit Trail ุดุงูู** (ุชุชุจุน ูู ุงูุชุบููุฑุงุช)
- โ **ุชุฐููุฑุงุช ุชููุงุฆูุฉ** (ููุงุชูุฑ ูุณุชุญูุฉุ ุงุดุชุฑุงูุงุช ููุชููุฉ)
- โ **ูุธุงู ุงุณุชุฑุฏุงุฏุงุช** (Refunds)
- โ **Cloud Functions** (ุฃุชูุชุฉ ูุงููุฉ)
- โ **API Endpoints ุดุงููุฉ**
- โ **ูุงุฌูุฉ ูุณุชุฎุฏู ุงุญุชุฑุงููุฉ**

---

## ๐๏ธ ุงูุจููุฉ

```
ads-main/
โโโ ๐ components/       # ููููุงุช React
โ   โโโ admin/          # ููููุงุช ููุญุฉ ุงูุชุญูู
โโโ ๐ lib/             # Services & Firebase
โ   โโโ services/       # 12 Service
โ   โโโ firebase.ts     # Firebase Client
โ   โโโ firebase-admin.ts
โโโ ๐ pages/           # ุตูุญุงุช Next.js
โ   โโโ admin/          # ุตูุญุงุช ููุญุฉ ุงูุชุญูู
โ   โโโ api/            # API Endpoints
โโโ ๐ scripts/         # Scripts ูุณุงุนุฏุฉ
โโโ ๐ functions/       # Cloud Functions
โโโ ๐ types/           # TypeScript Models
```

---

## ๐ ุณูุฑ ุงูุนูู ุงููุนุชุงุฏ

### ุฅูุดุงุก ุงุดุชุฑุงู ุฌุฏูุฏ

```
1. ุงูุชูู ุฅูู: /admin/advertisers
2. ุงุฎุชุฑ ูุนูู ุฃู ุฃูุดุฆ ุฌุฏูุฏ
3. Financial Tab
4. Create Subscription
   โโ ุงุฎุชุฑ ุงูุจุงูุฉ
   โโ ุญุฏุฏ ุชุงุฑูุฎ ุงูุจุฏุก
   โโ ุฃุถู ุฎุตู (ุงุฎุชูุงุฑู)
   โโ ุณุฌู ุงูุฏูุนุฉ ุงูุฃููู

โ ุณูุชู ุชููุงุฆูุงู:
   โโ ุฅูุดุงุก ุงูุงุดุชุฑุงู
   โโ ุฅูุดุงุก ูุงุชูุฑุฉ ูุน VAT
   โโ ุชุณุฌูู ุงูุฏูุนุฉ
   โโ ุญุณุงุจ ุงูุจุงูู
   โโ ุชุณุฌูู ูู Audit Log
```

---

## ๐ฐ ูุซุงู ุนูู ุญุณุงุจ VAT

```javascript
// ุจุงูุฉ ุดูุฑูุฉ: 900 ุฑูุงู
// ูุน ุฎุตู: 10%

ุงูุณุนุฑ ุงูุฃุตูู:     900 ุฑูุงู
ุงูุฎุตู (10%):      -90 ุฑูุงู
โโโโโโโโโโโโโโโโโโโโโโโโโ
ุงููุจูุบ ูุจู ุงูุถุฑูุจุฉ: 810 ุฑูุงู
ุงูุถุฑูุจุฉ (15%):   +121.5 ุฑูุงู
โโโโโโโโโโโโโโโโโโโโโโโโโ
ุงูุฅุฌูุงูู:        931.5 ุฑูุงู
```

---

## ๐ฆ ุงูุจุงูุงุช ุงููุชุงุญุฉ

| ุงูุจุงูุฉ | ุงููุฏุฉ | ุงูุณุนุฑ |
|--------|------|-------|
| ุจุงูุฉ 15 ููู | 15 ููู | 500 ุฑูุงู |
| ุจุงูุฉ ุดูุฑูุฉ | 30 ููู | 900 ุฑูุงู |
| ุจุงูุฉ ุดูุฑูู | 60 ููู | 1,700 ุฑูุงู |
| ุจุงูุฉ 3 ุฃุดูุฑ | 90 ููู | 2,400 ุฑูุงู |
| ุจุงูุฉ 6 ุฃุดูุฑ | 180 ููู | 4,500 ุฑูุงู |
| ุจุงูุฉ ุณูููุฉ | 365 ููู | 8,000 ุฑูุงู |

---

## โ๏ธ Cloud Functions

### ุชุนูู ุชููุงุฆูุงู:

| Function | ุงูุฌุฏููุฉ | ุงููุธููุฉ |
|----------|---------|---------|
| `dailyReminders` | ููููุงู 9 ุต | ุฅูุดุงุก ุชุฐููุฑุงุช |
| `processReminders` | ูู ุณุงุนุฉ | ุฅุฑุณุงู ุงูุชุฐููุฑุงุช |
| `updateSubscriptionStatuses` | ููููุงู 1 ุต | ุชุญุฏูุซ ุงูุญุงูุงุช |

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุณุฑูุน (5 ุฏูุงุฆู)

```bash
# 1. ุฅุถุงูุฉ ุงูุจุงูุงุช
node scripts/add-plans.js

# 2. ุชุดุบูู ุงููุดุฑูุน
npm run dev

# 3. ูุชุญ Dashboard
open http://localhost:3000/admin/dashboard

# 4. ุฅูุดุงุก ุงุดุชุฑุงู ุฌุฏูุฏ
# (ุงุชุจุน ุงูุฎุทูุงุช ูู ุงููุงุฌูุฉ)
```

### ุงุฎุชุจุงุฑ ุดุงูู

ุฑุงุฌุน: **[TESTING_GUIDE.md](./TESTING_GUIDE.md)**

---

## ๐๏ธ Firebase Collections

### Collections ุงูุฃุณุงุณูุฉ (ูุน ุจูุงูุงุช)

- โ `advertisers` - ุงููุนูููู
- โ `plans` - ุงูุจุงูุงุช (6 ุจุงูุงุช)
- โ `subscriptions` - ุงูุงุดุชุฑุงูุงุช
- โ `ad_requests` - ุทูุจุงุช ุงูุฅุนูุงู
- โ `statistics` - ุงูุฅุญุตุงุฆูุงุช
- โ `admins` - ุงููุณุคูููู

### Collections ุงูุฌุฏูุฏุฉ (ุชูููุฃ ุนูุฏ ุงูุงุณุชุฎุฏุงู)

- ๐ `invoices` - ุงูููุงุชูุฑ
- ๐ `payments` - ุงููุฏููุนุงุช
- ๐ `invoice_audits` - ุณุฌู ุงูุชุฏููู
- ๐ `reminders` - ุงูุชุฐููุฑุงุช
- ๐ `notifications` - ุงูุฅุดุนุงุฑุงุช
- ๐ `refunds` - ุงูุงุณุชุฑุฏุงุฏุงุช

---

## ๐ API Endpoints ุงูุฌุฏูุฏุฉ

| Endpoint | Method | ุงููุตู |
|----------|--------|-------|
| `/api/reminders/create-auto` | POST | ุฅูุดุงุก ุชุฐููุฑุงุช ุชููุงุฆูุฉ |
| `/api/reminders/process` | POST | ูุนุงูุฌุฉ ุงูุชุฐููุฑุงุช |
| `/api/refunds` | GET/POST | ุฅุฏุงุฑุฉ ุงูุงุณุชุฑุฏุงุฏุงุช |
| `/api/refunds/[id]` | GET/PATCH | ุงุณุชุฑุฏุงุฏ ูุญุฏุฏ |
| `/api/audit/invoice/[id]` | GET | Audit Log |
| `/api/audit/stats` | GET | ุฅุญุตุงุฆูุงุช Audit |

---

## ๐ง ุงูุฅุนุฏุงุฏ ุงูุฃููู

### ููู `.env.local`

```env
# Firebase Client
NEXT_PUBLIC_FIREBASE_API_KEY=...
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=...
NEXT_PUBLIC_FIREBASE_PROJECT_ID=jeddah-ads-46daa
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=...
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=...
NEXT_PUBLIC_FIREBASE_APP_ID=...

# Firebase Admin
FIREBASE_PROJECT_ID=jeddah-ads-46daa
FIREBASE_CLIENT_EMAIL=...
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
```

### ููู `serviceAccountKey.json`

ูุฌุจ ุฃู ูููู ููุฌูุฏุงู ูู ุงูุฌุฐุฑ.

---

## ๐ Dashboard

### ุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ

| ุงูุตูุญุฉ | ุงูุฑุงุจุท |
|-------|--------|
| Dashboard | `/admin/dashboard` |
| ุงููุนูููู | `/admin/advertisers` |
| ุงููุงููุฉ | `/admin/advertisers/[id]/financial` |
| ุงูููุงุชูุฑ | `/admin/invoices` |
| ุงูุจุงูุงุช | `/admin/plans` |

---

## ๐ ุงูุฃูุงู

- โ Firebase Authentication
- โ Admin SDK ููุณูุฑูุฑ
- โ Firestore Security Rules
- โ API ูุญููุฉ ุจู Auth Tokens
- โ Audit Trail ูุงูู

---

## ๐ ุงููุดุฑ

### Vercel (Next.js)

```bash
vercel --prod
```

### Firebase (Cloud Functions)

```bash
firebase deploy --only functions
```

### Firebase (Rules)

```bash
firebase deploy --only firestore:rules
```

---

## ๐ ุงูุฏุนู

### ูุฏูู ุณุคุงูุ

1. ุฑุงุฌุน **[IMPLEMENTATION_COMPLETE.md](./IMPLEMENTATION_COMPLETE.md)** ููุชูุงุตูู ุงููุงููุฉ
2. ุฑุงุฌุน **[TESTING_GUIDE.md](./TESTING_GUIDE.md)** ููุงุฎุชุจุงุฑ
3. ุฑุงุฌุน **[COMPLETE_SYSTEM_INDEX.md](./COMPLETE_SYSTEM_INDEX.md)** ููููุฑุณ ุงูุดุงูู

### ูุดููุฉ ุชูููุฉุ

ุฑุงุฌุน ูุณู "๐ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ" ูู:
- **[TESTING_GUIDE.md](./TESTING_GUIDE.md#-ุญู-ุงููุดุงูู-ุงูุดุงุฆุนุฉ)**

---

## โ ูุงุฆูุฉ ุงูุชุญูู ููุจุฏุก

- [ ] ุชุซุจูุช ุงููุชุทูุจุงุช (`npm install`)
- [ ] ุฅุถุงูุฉ `.env.local`
- [ ] ุฅุถุงูุฉ `serviceAccountKey.json`
- [ ] ุฅุถุงูุฉ ุงูุจุงูุงุช (`node scripts/add-plans.js`)
- [ ] ุชุดุบูู ุงููุดุฑูุน (`npm run dev`)
- [ ] ูุชุญ Dashboard (`http://localhost:3000/admin/dashboard`)
- [ ] ุฅูุดุงุก ุงุดุชุฑุงู ุชุฌุฑูุจู
- [ ] ุงูุชุญูู ูู VAT
- [ ] ุงูุชุญูู ูู Audit Trail

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ูุง ุชู ุชุทุจููู:

- **12** ููู ุฌุฏูุฏ
- **4** ูููุงุช ูุญุฏุซุฉ
- **4** Services ุฌุฏูุฏุฉ
- **6** API Endpoints ุฌุฏูุฏุฉ
- **3** Cloud Functions
- **13** Firebase Collections
- **6** ุจุงูุงุช ุฅุนูุงููุฉ
- **5** ูุซุงุฆู ุดุงููุฉ

---

## ๐ ุฌุงูุฒ ููุงุณุชุฎุฏุงู!

ุงููุธุงู **100% ุฌุงูุฒ** ููุนูู ุจููุงุกุฉ ุนุงููุฉ.

### ุงูููุฒุงุช:
- โ ุฏูุฉ ุญุณุงุจูุฉ ุนุงููุฉ
- โ ุฃุชูุชุฉ ูุงููุฉ
- โ ุฃูุงู ูุชูุฏู
- โ ุชูุซูู ุดุงูู
- โ ุณูููุฉ ูู ุงูุตูุงูุฉ

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ ุงูููุชุฑุญุฉ

1. **ุชูุงูู ุจูุงุจุฉ ุงูุฏูุน** (Moyasar/PayTabs)
2. **ุชูุงูู WhatsApp Business API**
3. **Email Service** (SendGrid)
4. **ุชูุงุฑูุฑ ูุชูุฏูุฉ**
5. **Mobile App**

---

**ุดูุฑุงู ูุงุณุชุฎุฏุงู Jeddah Ads System! ๐**

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ: AI Assistant**  
**ุงูุชุงุฑูุฎ: 22 ููููุจุฑ 2025**  
**ุงููุณุฎุฉ: 1.0**
