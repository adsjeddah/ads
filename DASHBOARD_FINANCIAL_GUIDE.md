# ๐ผ ุฏููู ุงูุฏุงุดุจูุฑุฏ ุงููุงูู - Financial Dashboard Guide

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุธุงู ุฏุงุดุจูุฑุฏ ูุงูู ูุชูุงูู ูุญุฏูุซ ูููุฑ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุงุญุชุฑุงููุฉ ูุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช ูุงูููุงุชูุฑ ูุงููุฏููุนุงุช.

---

## ๐ฏ ุงูููููุงุช (Components) ุงูุฌุฏูุฏุฉ

### 1๏ธโฃ FinancialSummaryCard
**ุงูููุฎุต ุงููุงูู ุงูุดุงูู**

```typescript
<FinancialSummaryCard 
  summary={financialSummary} 
  loading={false}
/>
```

**ุงููููุฒุงุช:**
- โ ุนุฑุถ ุฅุฌูุงูู ุงููุจูุบ ุงููุฏููุน ูุงููุชุจูู
- โ ูุณุจุฉ ุงูุฏูุน ูุน Progress Bar
- โ ุนุฏุฏ ุงูุงุดุชุฑุงูุงุช ุงููุดุทุฉ/ุงูููุชููุฉ
- โ ุฃููุงู ุฏููุงููููุฉ (ุฃุฎุถุฑ/ุฃุตูุฑ/ุฃุญูุฑ)
- โ ุฑุณูู ูุชุญุฑูุฉ ุณูุณุฉ
- โ ุชูุจูู ุนูุฏ ูุฌูุฏ ูุณุชุญูุงุช

**ุงูุดูู:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ฐ ุงูููุฎุต ุงููุงูู          โ๏ธ ููุฌุฏ ูุณุชุญูุงุช    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ ุงูุฅุฌูุงูู    โ ุงููุฏููุน    โ ุงููุชุจูู    โ
โ  5000 ุฑูุงู      4200 ุฑูุงู      800 ุฑูุงู       โ
โ                                                 โ
โ  โโโโโโโโโโโโโโโโ  84%                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### 2๏ธโฃ CreateSubscriptionForm
**ูููุฐุฌ ุฅูุดุงุก ุงุดุชุฑุงู ุฌุฏูุฏ**

```typescript
<CreateSubscriptionForm
  advertiserId={id}
  onSuccess={handleSubscriptionCreated}
  onCancel={() => setShowForm(false)}
/>
```

**ุงููููุฒุงุช:**
- โ ุงุฎุชูุงุฑ ุงูุฎุทุฉ ูู ูุงุฆูุฉ ุงูุฎุทุท ุงููุชุงุญุฉ
- โ ุชุญุฏูุฏ ุชุงุฑูุฎ ุงูุจุฏุงูุฉ
- โ ุญุณุงุจ ุชููุงุฆู ููุฎุตููุงุช (ูุณุจุฉ/ูุจูุบ)
- โ ูุนุงููุฉ ููุฑูุฉ ูููุจูุบ ุงูููุงุฆู
- โ ุฏูุนุฉ ุฃูููุฉ ุงุฎุชูุงุฑูุฉ
- โ ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุฏูุน
- โ ุฅูุดุงุก ูุงุชูุฑุฉ ุชููุงุฆูุงู
- โ ุงุณุชุฎุฏุงู FinancialService

**ุงูุนูููุฉ:**
1. ุงููุณุชุฎุฏู ูุฎุชุงุฑ ุฎุทุฉ (ูุซูุงู: ุดูุฑูุฉ - 1000 ุฑูุงู)
2. ูุทุจู ุฎุตู 15%
3. ุงููุจูุบ ุงูููุงุฆู: 850 ุฑูุงู โ
4. ูุฏูุน 500 ุฑูุงู (ุฏูุนุฉ ุฃูููุฉ)
5. ุงููุธุงู ูููุดุฆ:
   - โ Subscription (total: 850, paid: 500, remaining: 350)
   - โ Invoice (amount: 850, status: 'unpaid')
   - โ Payment (amount: 500)

---

### 3๏ธโฃ RecordPaymentForm
**ูููุฐุฌ ุชุณุฌูู ุฏูุนุฉ**

```typescript
<RecordPaymentForm
  subscription={selectedSubscription}
  invoices={unpaidInvoices}
  onSuccess={handlePaymentRecorded}
  onCancel={() => setShowForm(false)}
/>
```

**ุงููููุฒุงุช:**
- โ ุนุฑุถ ููุฎุต ุงูุงุดุชุฑุงู (ุงูุฅุฌูุงูู/ุงููุฏููุน/ุงููุชุจูู)
- โ ูุนุงููุฉ ููุฑูุฉ ููุญุงูุฉ ุจุนุฏ ุงูุฏูุน
- โ ุฒุฑ "ุฏูุน ุงููุชุจูู ุจุงููุงูู"
- โ ุฑุจุท ุชููุงุฆู ุจุงููุงุชูุฑุฉ
- โ ุฑูู ุงููุนุงููุฉ ุงููุตุฑููุฉ
- โ ุชุญุฏูุซ ุชููุงุฆู ูุญุงูุฉ ุงูุงุดุชุฑุงู ูุงููุงุชูุฑุฉ

**ุงูุดูู:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ฐ ุชุณุฌูู ุฏูุนุฉ ุฌุฏูุฏุฉ                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ ููุฎุต ุงูุงุดุชุฑุงู:                            โ
โ  ุงูุฅุฌูุงูู: 850    ุงููุฏููุน: 500    ุงููุชุจูู: 350 โ
โ  โโโโโโโโโโโโโโโโ  59%                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ุงููุจูุบ: [____350____] ุฑูุงู                    โ
โ           โ ุฏูุน ุงููุชุจูู ุจุงููุงูู                โ
โ                                                 โ
โ  โ ุจุนุฏ ูุฐู ุงูุฏูุนุฉ:                            โ
โ  ุงููุฏููุน: 850 ุฑูุงู  |  ุงููุชุจูู: 0 ุฑูุงู        โ
โ  โ ุณูุชู ุชุญุฏูุซ ุงูุญุงูุฉ ุฅูู "ูุฏููุน ุจุงููุงูู"      โ
โ                                                 โ
โ  [ุชุณุฌูู ุงูุฏูุนุฉ โ]                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### 4๏ธโฃ SubscriptionsList
**ูุงุฆูุฉ ุงูุงุดุชุฑุงูุงุช**

```typescript
<SubscriptionsList
  subscriptions={subscriptions}
  plans={plans}
  onAddPayment={handleAddPayment}
  loading={false}
/>
```

**ุงููููุฒุงุช:**
- โ ุนุฑุถ ุฌููุน ุงูุงุดุชุฑุงูุงุช ูุน ุญุงูุชูุง
- โ Progress Bar ููุฏูุน
- โ ุชูุงุฑูุฎ ุงูุจุฏุงูุฉ ูุงูููุงูุฉ
- โ ุงูุฃูุงู ุงููุชุจููุฉ (ูุน ุชูุจูู)
- โ ุงูุชูุงุตูู ุงููุงููุฉ ุงููุงููุฉ
- โ ุฒุฑ "ุชุณุฌูู ุฏูุนุฉ" ููุงุดุชุฑุงูุงุช ุงูุฌุฒุฆูุฉ
- โ ุฃููุงู ุฏููุงููููุฉ ุญุณุจ ุงูุญุงูุฉ

**ุงูุญุงูุงุช:**
- ๐ข **ูุดุท** (active): ุงูุงุดุชุฑุงู ุณุงุฑู
- ๐ก **ููุชูู** (expired): ุงูุชูุช ุงููุฏุฉ
- ๐ด **ููุบู** (cancelled): ุชู ุงูุฅูุบุงุก

**ุญุงูุงุช ุงูุฏูุน:**
- โ **ูุฏููุน ุจุงููุงูู** (paid): ูุง ุชูุฌุฏ ูุณุชุญูุงุช
- โ๏ธ **ุฏูุน ุฌุฒุฆู** (partial): ููุฌุฏ ูุชุจูู
- โ **ุบูุฑ ูุฏููุน** (pending): ูู ูุชู ุฃู ุฏูุน

---

### 5๏ธโฃ PaymentHistoryTable
**ุฌุฏูู ุณุฌู ุงููุฏููุนุงุช**

```typescript
<PaymentHistoryTable
  payments={paymentHistory}
  loading={false}
/>
```

**ุงููููุฒุงุช:**
- โ ุฌุฏูู ุงุญุชุฑุงูู ูุฌููุน ุงููุฏููุนุงุช
- โ ุงูุชุงุฑูุฎ ูุงููุจูุบ
- โ ุทุฑููุฉ ุงูุฏูุน (ููุฏู/ุจูู/ุจุทุงูุฉ)
- โ ุฑูู ุงููุนุงููุฉ ุงููุตุฑููุฉ
- โ ุฑุจุท ุจุงููุงุชูุฑุฉ
- โ ุงูููุงุญุธุงุช
- โ ุฅุฌูุงูู ุงููุฏููุนุงุช

**ุงูุดูู:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ ุณุฌู ุงููุฏููุนุงุช                   ุงูุฅุฌูุงูู: 4200 ุฑูุงู       โ
โโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโโโฌโโโโโโโโโค
โ ุงูุชุงุฑูุฎ   โ ุงููุจูุบ    โ ุงูุทุฑููุฉ  โ ุงููุนุงููุฉ โ ุงููุงุชูุฑุฉ โ ููุงุญุธุงุช โ
โโโโโโโโโโโโผโโโโโโโโโโโผโโโโโโโโโโโผโโโโโโโโโโโผโโโโโโโโโโโผโโโโโโโโโค
โ 15/11/24 โ 850 ุฑูุงู โ ููุฏู     โ -        โ ูุฑุจูุท    โ -      โ
โ 01/11/24 โ 500 ุฑูุงู โ ุชุญููู    โ TXN123   โ ูุฑุจูุท    โ ุฏูุนุฉ 1 โ
โโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโโโดโโโโโโโโโ
```

---

## ๐ฑ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ: `/admin/advertisers/[id]/financial`

### ุงููููู ุงูุนุงู:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Header:                                                         โ
โ  โ ุงูุนูุฏุฉ  |  ๐ข ุงุณู ุงูุดุฑูุฉ  |  ๐ ุชุญุฏูุซ  | โ ุงุดุชุฑุงู ุฌุฏูุฏ     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  1๏ธโฃ ุงูููุฎุต ุงููุงูู (FinancialSummaryCard)                       โ
โ     - ุฅุฌูุงูู ุงููุจูุบ / ุงููุฏููุน / ุงููุชุจูู                         โ
โ     - Progress Bar ุงูุฅุฌูุงูู                                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  2๏ธโฃ ูููุฐุฌ ุฅุถุงูุฉ ุงุดุชุฑุงู (CreateSubscriptionForm) - ุงุฎุชูุงุฑู     โ
โ     ูุธูุฑ ุนูุฏ ุงูููุฑ ุนูู "ุงุดุชุฑุงู ุฌุฏูุฏ"                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  3๏ธโฃ ูููุฐุฌ ุชุณุฌูู ุฏูุนุฉ (RecordPaymentForm) - ุงุฎุชูุงุฑู             โ
โ     ูุธูุฑ ุนูุฏ ุงูููุฑ ุนูู "ุชุณุฌูู ุฏูุนุฉ" ูู ุฃู ุงุดุชุฑุงู               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  4๏ธโฃ ูุงุฆูุฉ ุงูุงุดุชุฑุงูุงุช (SubscriptionsList)                       โ
โ     - ุฌููุน ุงูุงุดุชุฑุงูุงุช ูุน ุชูุงุตูููุง ุงููุงููุฉ                      โ
โ     - ุฃุฒุฑุงุฑ "ุชุณุฌูู ุฏูุนุฉ" ููุงุดุชุฑุงูุงุช ุงูุฌุฒุฆูุฉ                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  5๏ธโฃ ุณุฌู ุงููุฏููุนุงุช (PaymentHistoryTable)                        โ
โ     - ุฌุฏูู ูุงูู ุจุฌููุน ุงูุฏูุนุงุช ุงูุชุงุฑูุฎูุฉ                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  6๏ธโฃ ุชูุจูู ุงูููุงุชูุฑ ุบูุฑ ุงููุฏููุนุฉ - ุฅู ูุฌุฏุช                     โ
โ     โ๏ธ ููุฌุฏ 2 ููุงุชูุฑ ุบูุฑ ูุฏููุนุฉ ุจูุจูุบ 1500 ุฑูุงู               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### ุณููุงุฑูู 1: ุฅูุดุงุก ุงุดุชุฑุงู ุฌุฏูุฏ

**ุงูุฎุทูุงุช:**
1. ุงูุฏุฎูู ุฅูู ุตูุญุฉ ุงููุนูู
2. ุงูููุฑ ุนูู "ูุชุญ ุงููุธุงู ุงููุงูู"
3. ุงูููุฑ ุนูู "ุงุดุชุฑุงู ุฌุฏูุฏ"
4. ุงุฎุชูุงุฑ ุงูุฎุทุฉ (ูุซูุงู: ุดูุฑูุฉ - 1000 ุฑูุงู)
5. ุชุญุฏูุฏ ุชุงุฑูุฎ ุงูุจุฏุงูุฉ
6. ุฅุถุงูุฉ ุฎุตู 10% (ุงูุฅุฌูุงูู: 900 ุฑูุงู)
7. ุฏูุนุฉ ุฃูููุฉ: 450 ุฑูุงู
8. ุทุฑููุฉ ุงูุฏูุน: ุชุญููู ุจููู
9. ุงูููุฑ ุนูู "ุฅูุดุงุก ุงูุงุดุชุฑุงู"

**ุงููุชูุฌุฉ ุงูุชููุงุฆูุฉ:**
```
โ Subscription:
   - base_price: 1000
   - discount_value: 100
   - total_amount: 900
   - paid_amount: 450
   - remaining_amount: 450
   - status: 'active'
   - payment_status: 'partial'

โ Invoice:
   - invoice_number: INV-20241120-1234
   - amount: 900
   - status: 'unpaid'

โ Payment:
   - amount: 450
   - payment_method: 'bank_transfer'
   - linked to subscription & invoice
```

---

### ุณููุงุฑูู 2: ุชุณุฌูู ุฏูุนุฉ ุฌุฒุฆูุฉ

**ุงูุฎุทูุงุช:**
1. ูู ูุงุฆูุฉ ุงูุงุดุชุฑุงูุงุชุ ุงุฎุชุฑ ุงุดุชุฑุงู ุฌุฒุฆู
2. ุงูููุฑ ุนูู "ุชุณุฌูู ุฏูุนุฉ"
3. ุฅุฏุฎุงู ุงููุจูุบ: 300 ุฑูุงู
4. ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุฏูุน: ููุฏู
5. ุงูููุฑ ุนูู "ุชุณุฌูู ุงูุฏูุนุฉ"

**ุงููุชูุฌุฉ ุงูุชููุงุฆูุฉ:**
```
โ Subscription ุชู ุชุญุฏูุซู:
   - paid_amount: 450 โ 750
   - remaining_amount: 450 โ 150
   - payment_status: 'partial' (ูุง ูุฒุงู ููุงู ูุชุจูู)

โ Payment ุฌุฏูุฏ:
   - amount: 300
   - payment_method: 'cash'

โ ุงูุตูุญุฉ ุชูุญุฏูุซ ุชููุงุฆูุงู:
   - Progress Bar ูุชุญุฑู
   - ุงูููุฎุต ุงููุงูู ูุชุญุฏุซ
   - ุณุฌู ุงููุฏููุนุงุช ููุถุงู ุฅููู ุงูุณุฌู ุงูุฌุฏูุฏ
```

---

### ุณููุงุฑูู 3: ุฏูุน ุงููุชุจูู ุจุงููุงูู

**ุงูุฎุทูุงุช:**
1. ูู ูููุฐุฌ ุชุณุฌูู ุงูุฏูุนุฉ
2. ุงูููุฑ ุนูู "ุฏูุน ุงููุชุจูู ุจุงููุงูู"
3. ุงููุจูุบ ููููุฃ ุชููุงุฆูุงู: 150 ุฑูุงู
4. ุงูููุฑ ุนูู "ุชุณุฌูู ุงูุฏูุนุฉ"

**ุงููุชูุฌุฉ ุงูุชููุงุฆูุฉ:**
```
โ Subscription:
   - paid_amount: 750 โ 900
   - remaining_amount: 150 โ 0
   - payment_status: 'partial' โ 'paid' โ

โ Invoice:
   - status: 'unpaid' โ 'paid' โ
   - paid_date: ุงูููู

โ ุชูุจูู ุฃุฎุถุฑ:
   "โ ุชู ุชุญุฏูุซ ุงูุญุงูุฉ ุฅูู ูุฏููุน ุจุงููุงูู"

โ ุฒุฑ "ุชุณุฌูู ุฏูุนุฉ" ูุฎุชูู (ูุง ุชูุฌุฏ ูุณุชุญูุงุช)
```

---

### ุณููุงุฑูู 4: ูุฑุงุฌุนุฉ ุณุฌู ุงููุฏููุนุงุช

**ุงูุฎุทูุงุช:**
1. ุงูุชูุฑูุฑ ูุฃุณูู ุฅูู "ุณุฌู ุงููุฏููุนุงุช"
2. ุนุฑุถ ุฌููุน ุงูุฏูุนุงุช ุงูุชุงุฑูุฎูุฉ
3. ุฑุคูุฉ:
   - ุงูุชูุงุฑูุฎ
   - ุงููุจุงูุบ
   - ุทุฑู ุงูุฏูุน
   - ุฃุฑูุงู ุงููุนุงููุงุช
   - ุงูููุงุญุธุงุช

**ุงููุงุฆุฏุฉ:**
- โ ุชุฏููู ูุงูู ูููุฏููุนุงุช
- โ ูุฑุงุฌุนุฉ ุงูุฃุฑูุงู ุงููุตุฑููุฉ
- โ ุชุชุจุน ุงููุฏููุนุงุช ุนุจุฑ ุงูุฒูู

---

## ๐จ ุงููุคุดุฑุงุช ุงูุจุตุฑูุฉ

### 1๏ธโฃ ุงูุฃููุงู ุงูุฏููุงููููุฉ

**ุญุงูุฉ ุงูุงุดุชุฑุงู:**
- ๐ข **ุฃุฎุถุฑ**: ูุดุท (active)
- ๐ก **ุฃุตูุฑ**: ููุชูู (expired)
- ๐ด **ุฃุญูุฑ**: ููุบู (cancelled)

**ุญุงูุฉ ุงูุฏูุน:**
- ๐ข **ุฃุฎุถุฑ**: ูุฏููุน ุจุงููุงูู (paid)
- ๐ก **ุฃุตูุฑ**: ุฏูุน ุฌุฒุฆู (partial)
- ๐ด **ุฃุญูุฑ**: ุบูุฑ ูุฏููุน (pending)

**Progress Bar:**
- ๐ข **ุฃุฎุถุฑ**: 100% ูุฏููุน
- ๐ก **ุฃุตูุฑ**: 50-99% ูุฏููุน
- ๐ด **ุฃุญูุฑ**: 0-49% ูุฏููุน

---

### 2๏ธโฃ ุงูุฑุณูู ุงููุชุญุฑูุฉ

**ุนูุฏ ุงูุชุญููู:**
```typescript
initial={{ opacity: 0, y: 20 }}
animate={{ opacity: 1, y: 0 }}
transition={{ delay: index * 0.1 }}
```

**Progress Bar:**
```typescript
initial={{ width: 0 }}
animate={{ width: `${percentage}%` }}
transition={{ duration: 1, ease: 'easeOut' }}
```

**ุงูุฃุฒุฑุงุฑ:**
```typescript
whileHover={{ scale: 1.05 }}
whileTap={{ scale: 0.95 }}
```

---

### 3๏ธโฃ ุงูุชูุจููุงุช

**ูุณุชุญูุงุช:**
```
โ๏ธ ููุฌุฏ ูุณุชุญูุงุช
(ุฎูููุฉ ุญูุฑุงุก animate-pulse)
```

**ูุฏููุน ุจุงููุงูู:**
```
โ ูุฏููุน ุจุงููุงูู
(ุฎูููุฉ ุฎุถุฑุงุก)
```

**ุงูุชูุงุก ูุฑูุจ:**
```
๐ 3 ุฃูุงู ูุชุจููุฉ
(ูุต ุฃุญูุฑ animate-pulse)
```

---

## ๐ ุงูุชุญุฏูุซุงุช ุงููุญุธูุฉ

### ุฒุฑ ุงูุชุญุฏูุซ

```typescript
<button onClick={handleRefresh}>
  ๐ ุชุญุฏูุซ
</button>
```

**ูุง ูุญุฏุซ:**
1. ุฅุธูุงุฑ toast: "ุฌุงุฑู ุงูุชุญุฏูุซ..."
2. ุฌูุจ ุฌููุน ุงูุจูุงูุงุช ูู Firebase
3. ุชุญุฏูุซ ุฌููุน ุงููููุจูููุชุงุช
4. ุฅุธูุงุฑ toast: "ุชู ุงูุชุญุฏูุซ ุจูุฌุงุญ"

---

### ุงูุชุญุฏูุซ ุงูุชููุงุฆู ุจุนุฏ ุงูุนูููุงุช

**ุจุนุฏ ุฅูุดุงุก ุงุดุชุฑุงู:**
```
โ ุฅูุดุงุก ุงูุงุดุชุฑุงู
โ
handleRefresh()
โ
ุชุญุฏูุซ ุงูููุฎุต ุงููุงูู
ุชุญุฏูุซ ูุงุฆูุฉ ุงูุงุดุชุฑุงูุงุช
```

**ุจุนุฏ ุชุณุฌูู ุฏูุนุฉ:**
```
โ ุชุณุฌูู ุงูุฏูุนุฉ
โ
handleRefresh()
โ
ุชุญุฏูุซ ุงูููุฎุต ุงููุงูู
ุชุญุฏูุซ ูุงุฆูุฉ ุงูุงุดุชุฑุงูุงุช
ุชุญุฏูุซ ุณุฌู ุงููุฏููุนุงุช
ุชุญุฏูุซ Progress Bars
```

---

## ๐ ุฑุจุท ุงูุจูุงูุงุช ูุน Firebase

### API Endpoints ุงููุณุชุฎุฏูุฉ:

```typescript
// 1. ุฌูุจ ุงูููุฎุต ุงููุงูู
GET /api/financial/advertiser-summary?advertiser_id=xxx

// 2. ุฌูุจ ุงูุงุดุชุฑุงูุงุช
GET /api/subscriptions?advertiser_id=xxx

// 3. ุฌูุจ ุงูุฎุทุท
GET /api/plans

// 4. ุฌูุจ ุงูููุงุชูุฑ
GET /api/invoices

// 5. ุฅูุดุงุก ุงุดุชุฑุงู
POST /api/financial/create-subscription

// 6. ุชุณุฌูู ุฏูุนุฉ
POST /api/financial/record-payment
```

---

### ุงูุจูุงูุงุช ุงูููุญุฏูุซุฉ ุชููุงุฆูุงู:

**ุนูุฏ ุฅูุดุงุก ุงุดุชุฑุงู:**
```
Firebase: subscriptions โ ุชุญุฏูุซ
Firebase: invoices โ ุฅุถุงูุฉ ุฌุฏูุฏ
Firebase: payments โ ุฅุถุงูุฉ ุฌุฏูุฏ (ุฅู ูุฌุฏุช ุฏูุนุฉ ุฃูููุฉ)
```

**ุนูุฏ ุชุณุฌูู ุฏูุนุฉ:**
```
Firebase: subscriptions โ ุชุญุฏูุซ
   - paid_amount
   - remaining_amount
   - payment_status

Firebase: invoices โ ุชุญุฏูุซ (ุนูุฏ ุงูุงูุชูุงู)
   - status: 'paid'
   - paid_date: timestamp

Firebase: payments โ ุฅุถุงูุฉ ุฌุฏูุฏ
```

---

## ๐ฏ ุฃูุถู ุงูููุงุฑุณุงุช

### 1๏ธโฃ ุนูุฏ ุฅุถุงูุฉ ุงุดุชุฑุงู ุฌุฏูุฏ

```typescript
// โ ุตุญูุญ
<CreateSubscriptionForm
  advertiserId={id}
  onSuccess={() => {
    toast.success('ุชู ุฅูุดุงุก ุงูุงุดุชุฑุงู ุจูุฌุงุญ!');
    handleRefresh();
  }}
/>

// โ ุฎุทุฃ - ูุง ุชูุณู ุงูุชุญุฏูุซ
<CreateSubscriptionForm
  advertiserId={id}
  onSuccess={() => {
    toast.success('ุชู!');
    // โ ูุณูุช handleRefresh()
  }}
/>
```

---

### 2๏ธโฃ ุนูุฏ ุชุณุฌูู ุฏูุนุฉ

```typescript
// โ ุตุญูุญ - ุชุญูู ูู ุงููุจูุบ
if (amount > subscription.remaining_amount) {
  toast.error('ุงููุจูุบ ูุชุฌุงูุฒ ุงููุชุจูู');
  return;
}

// โ ุตุญูุญ - ุฃุบูู ุงููููุฐุฌ ุจุนุฏ ุงููุฌุงุญ
onSuccess={() => {
  setShowForm(false);
  handleRefresh();
}}
```

---

### 3๏ธโฃ ุนูุฏ ุนุฑุถ ุงูุจูุงูุงุช

```typescript
// โ ุตุญูุญ - ุงุณุชุฎุฏู toLocaleString
{amount.toLocaleString('ar-SA')} ุฑูุงู

// โ ุฎุทุฃ
{amount} ุฑูุงู  // ูุนุฑุถ 1000 ุจุฏูุงู ูู 1,000
```

---

## โก ุงูุฃุฏุงุก

### ุงูุชุญุณููุงุช ุงููุทุจูุฉ:

1. **Lazy Loading ูููููุจูููุชุงุช**
   - ุงูููุงุฐุฌ ูุง ุชูุญููู ุฅูุง ุนูุฏ ุงูุญุงุฌุฉ
   
2. **ูุคุดุฑุงุช ุงูุชุญููู**
   - Skeleton loading ูููููุจูููุชุงุช
   - Spinners ููุนูููุงุช
   
3. **ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงููุญุณููุฉ**
   - ุงุณุชุฎุฏุงู `motion` ูู Framer Motion
   - Staggered animations ููููุงุฆู
   
4. **ุงูุชุญุฏูุซ ุงูุฐูู**
   - ุชุญุฏูุซ ููุท ุนูุฏ ุงูุญุงุฌุฉ
   - ุงุณุชุฎุฏุงู `React.memo` ูููููุจูููุชุงุช

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ููุชุฑุญุงุช ููุชุญุณูู:

1. โ **ุฅุดุนุงุฑุงุช ูู ุงูููุช ุงููุนูู**
   - ุงุณุชุฎุฏุงู Firebase Realtime Listeners
   
2. โ **ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ**
   - Excel/PDF ูููุฏููุนุงุช
   
3. โ **ุฑุณูู ุจูุงููุฉ**
   - Charts ููุฅูุฑุงุฏุงุช ุงูุดูุฑูุฉ
   
4. โ **ุฅุดุนุงุฑุงุช ุงูุงุณุชุญูุงู**
   - ุชูุจููุงุช ูุจู ุงูุชูุงุก ุงูุงุดุชุฑุงู
   
5. โ **ุชูุงูู ูุน ุจูุงุจุงุช ุงูุฏูุน**
   - ุงูุฏูุน ุงูุฅููุชุฑููู ูุจุงุดุฑุฉ

---

## ๐ ุงูุฏุนู

ููุงุณุชูุณุงุฑุงุช:
- ุฑุงุฌุน `FINANCIAL_SYSTEM_GUIDE.md` ูููุธุงู ุงููุงูู
- ุฌููุน ุงููููุจูููุชุงุช ููุซูุฉ ูู ุงูููุฏ
- ุงูุฃุฎุทุงุก ุชูุนุฑุถ ูู toast ูุงุถุญุฉ

---

**โ ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู - Production Ready!**

